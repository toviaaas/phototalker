<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>í¬í† í† ì»¤ (PhotoTalker)</title>

<style>
  body {
    font-family: 'Pretendard', sans-serif;
    background: #f0f0f0;
    margin: 0;
    padding: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    font-size: 38px;
    font-weight: 900;
    margin-bottom: 10px;
  }

  .upload-area {
    border: 4px dashed black;
    width: 600px;
    height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: white;
    cursor: pointer;
    font-size: 18px;
    margin-bottom: 25px;
  }

  .panel {
    border: 6px solid black;
    padding: 20px;
    margin-top: 10px;
    background: white;
    min-height: 350px;
    width: 600px;
    position: relative;
  }

  #preview {
    position: absolute;
    bottom: 10px;
    left: 10px;
    max-width: 55%;
    max-height: 300px;
    object-fit: contain;
  }

  /* ===== ê¸°ë³¸ ë§í’ì„  í†µì¼ ===== */
  .speech-bubble {
    position: absolute;
    top: 20px;
    right: 20px;
    max-width: 40%;
    min-width: 200px;
    min-height: 80px;
    padding: 20px 25px;
    font-weight: 700;
    word-wrap: break-word;
    overflow-wrap: break-word;
    display: none;
    text-align: center;

    border: 4px solid black;
    border-radius: 18px;
    background: white;
  }

  button {
    padding: 12px 22px;
    font-size: 18px;
    font-weight: 700;
    border: 4px solid black;
    background: white;
    cursor: pointer;
    margin-top: 15px;
  }
</style>
</head>

<body>
  <h1>í¬í† í† ì»¤ (PhotoTalker)</h1>
  <p>ì‚¬ì§„ì´ ì§ì ‘ ë§í•œë‹¤ â€“ ì›ƒê¸´ ë²„ì „ë¶€í„° íŒíƒ€ì§€ ë²„ì „ê¹Œì§€!</p>

  <div class="upload-area" onclick="document.getElementById('inputImage').click()">
    ğŸ“¸ ì‚¬ì§„ ì—…ë¡œë“œ (Click or Drag & Drop)
  </div>
  <input type="file" id="inputImage" accept="image/*" style="display:none;">

  <label><input type="radio" name="style" value="funny"> ì›ƒê¹€</label>
  <label><input type="radio" name="style" value="fantasy"> íŒíƒ€ì§€</label>
  <label><input type="radio" name="style" value="random" checked> ëœë¤</label>

  <button onclick="register()">ğŸª„ ëŒ€ì‚¬ ìƒì„±í•˜ê¸°</button>

  <div class="panel">
    <img id="preview"/>
    <div id="bubble" class="speech-bubble"></div>
  </div>

<script>
  const inputImg = document.getElementById("inputImage");
  const preview = document.getElementById("preview");
  const bubble = document.getElementById("bubble");

  inputImg.addEventListener("change", function() {
    const file = this.files[0];
    if (!file) return;
    preview.src = URL.createObjectURL(file);
    bubble.style.display = "none";
  });

  async function register() {
    const styleOption = document.querySelector("input[name='style']:checked").value;

    let text = "";
    if (styleOption === "funny") 
      text = "ì§€ê¸ˆ ë‚˜ ì¢€ ì›ƒê¸°ì§€ ì•Šì•„? ğŸ¤£";
    else if (styleOption === "fantasy") 
      text = "ì‹ ì˜ ëª©ì†Œë¦¬ë¥¼ ë“¤ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠëƒâ€¦ âš¡";
    else {
      text = Math.random() < 0.5
        ? "ì§€ê¸ˆ ë‚˜ ì¢€ ì›ƒê¸°ì§€ ì•Šì•„? ğŸ¤£"
        : "ì‹ ì˜ ëª©ì†Œë¦¬ë¥¼ ë“¤ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠëƒâ€¦ âš¡";
    }

    bubble.innerText = text;
    bubble.style.display = "block";
  }
</script>

</body>
</html>
